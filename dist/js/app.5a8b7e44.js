(function(e){function t(t){for(var n,a,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,a=1;a<r.length;a++){var s=r[a];0!==i[s]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},i={app:0},o=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-044a2479":"2676ac5f","chunk-1d6772ed":"5e572cf4","chunk-205a73f2":"6063b9c1","chunk-344f869a":"7dfe5740","chunk-65e0f6f0":"b5810ed4","chunk-6b06d900":"65d1aebe","chunk-b0ab992a":"3e3ccc9e"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={"chunk-044a2479":1,"chunk-1d6772ed":1,"chunk-205a73f2":1,"chunk-344f869a":1,"chunk-65e0f6f0":1,"chunk-6b06d900":1,"chunk-b0ab992a":1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-044a2479":"cac6e746","chunk-1d6772ed":"b97c6fa0","chunk-205a73f2":"15281a95","chunk-344f869a":"aaaebdea","chunk-65e0f6f0":"09e911d3","chunk-6b06d900":"e20ebf9a","chunk-b0ab992a":"d7fb5333"}[e]+".css",i=c.p+n,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===n||l===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete a[e],p.parentNode.removeChild(p),r(o)},p.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){a[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var r=i[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,r[1](d)}i[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"08f6":function(e,t,r){"use strict";var n=r("65b7"),a=r.n(n);a.a},"183b":function(e,t,r){e.exports=r.p+"img/vegetarian.5702bc0f.png"},"1ad0":function(e,t,r){},2026:function(e,t,r){},2184:function(e,t,r){"use strict";var n=r("2679"),a=r.n(n);a.a},2679:function(e,t,r){},"37c5":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("4160"),r("d3b7"),r("159b"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("b-navbar",[n("b-navbar-brand",[n("img",{attrs:{src:r("d092"),alt:"Logo",width:"160",height:"120"}})]),n("b-navbar-nav",[n("b-nav-item",{attrs:{href:"#"}},[n("router-link",{attrs:{to:{name:"main"}}},[e._v("Main")])],1),n("b-nav-item",[n("router-link",{attrs:{to:{name:"search"}}},[e._v("Search")])],1),n("b-nav-item",{attrs:{href:"#"}},[n("router-link",{attrs:{to:{name:"about"}}},[e._v(" About ")])],1)],1),e.$root.store.username?n("b-navbar-nav",{attrs:{id:"loggedInUser"}},[n("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.add-recipe-modal",modifiers:{"add-recipe-modal":!0}}]},[e._v(" Create New Recipe ")]),n("CreateNewRecipeModal"),n("b-nav-item-dropdown",{attrs:{type:"dark",variant:"light",text:"Personal"}},[n("b-dropdown-item",{attrs:{href:"#",id:"favorites"}},[n("router-link",{attrs:{to:{name:"myfavoriterecipes"}}},[e._v(" My Favorite Recipes ")])],1),n("b-dropdown-item",{attrs:{id:"myRecipes"}},[n("router-link",{attrs:{to:{name:"myrecipes"}}},[e._v("My Recipes")])],1),n("b-dropdown-item",[n("router-link",{attrs:{to:{name:"MyFamily"}}},[e._v("My Family Recipes")])],1)],1),n("b-nav-item",[e._v(" Hello "+e._s(e.$root.store.username)+" ")]),n("b-nav-item",{on:{click:e.Logout}},[e._v(" Logout ")])],1):n("b-navbar-nav",[n("b-nav-item",[e._v(" Hello Guest ")]),n("b-nav-item",[n("router-link",{attrs:{to:{name:"register"}}},[e._v("Register")])],1),n("b-nav-item",[n("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")])],1)],1)],1),n("router-view")],1)},i=[],o=(r("96cf"),r("1da1")),s=r("f29b"),c={name:"App",components:{CreateNewRecipeModal:s["default"]},methods:{Logout:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.axios.defaults.withCredentials=!0,t.next=4,e.axios.post("https://liorkob.cs.bgu.ac.il/Logout");case 4:r=t.sent,e.axios.defaults.withCredentials=!1,e.$root.store.logout(),"logout succeeded"==r.message&&(e.$root.toast("Logout","User logged out successfully","success"),e.$router.push("/")["catch"]((function(){e.$forceUpdate()}))),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0.response),e.form.submitError=t.t0.response.data.message;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},u=c,l=(r("2184"),r("2877")),d=Object(l["a"])(u,a,i,!1,null,"1f4ea9fa",null),p=d.exports,f=r("a7fe"),m=r.n(f),v=r("bc3a"),b=r.n(v),h=(r("c0d6"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"main"}},[r("div",{staticClass:"main-container"},[r("div",{staticClass:"container"},[r("div",{staticClass:"left-section"},[r("Random",{staticClass:"RandomRecipes center",attrs:{id:"randomRecipes",title:"Explore these recipes"},on:{reload:e.reloadRecipes}})],1),r("div",{staticClass:"right-section"},[e.$root.store.username?[r("LastViewd",{staticClass:"center",attrs:{title:"Last Viewed Recipes",reload:e.reloadRecipes,disabled:""}})]:[r("Login")]],2)])])])}),g=[],y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("RecipePreviewList",{ref:"recipePreviewList",attrs:{title:"Explore this recipes"}})],1)},k=[],w=r("2909"),$=r("99d8"),x={name:"Random",components:{RecipePreviewList:$["a"]},props:{title:{type:String,required:!0}},data:function(){return{recipes:[]}},mounted:function(){this.updateRecipes(),this.$parent.$on("reload",this.updateRecipes)},beforeDestroy:function(){this.$parent.$off("reload",this.updateRecipes)},methods:{updateRecipes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.axios.defaults.withCredentials=!0,t.next=4,e.axios.get("https://liorkob.cs.bgu.ac.il/rand");case 4:n=t.sent,e.axios.defaults.withCredentials=!1,a=n.data,e.recipes=[],(r=e.recipes).push.apply(r,Object(w["a"])(a)),e.$refs.recipePreviewList.update(a),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}},_=x,R=(r("de30"),Object(l["a"])(_,y,k,!1,null,"71959709",null)),C=R.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("RecipePreviewList",{ref:"recipePreviewList",attrs:{title:"Last Viewed Recipes"}})],1)},L=[],S={name:"LastViewd",components:{RecipePreviewList:$["a"]},props:{title:{type:String,required:!0}},data:function(){return{recipes:[]}},mounted:function(){this.updateLastSeenRecipes(),this.$parent.$on("reload",this.updateLastSeenRecipes)},beforeDestroy:function(){this.$parent.$off("reload",this.updateLastSeenRecipes)},methods:{updateLastSeenRecipes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.axios.defaults.withCredentials=!0,t.next=4,e.axios.get("https://liorkob.cs.bgu.ac.il/last");case 4:for(r=t.sent,e.axios.defaults.withCredentials=!1,n=[r.data[0],r.data[1],r.data[2]],e.recipes=[],a=0;a<n.length;a++)void 0!==n[a]&&void 0!==n[a].id&&e.recipes.push(n[a]);e.$refs.recipePreviewList.update(e.recipes),t.next=14;break;case 12:t.prev=12,t.t0=t["catch"](0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}},M=S,q=(r("f697"),Object(l["a"])(M,I,L,!1,null,"76a1ebbd",null)),O=q.exports,E=r("62cc"),j={methods:{reloadRecipes:function(){this.$emit("reload")}},components:{Random:C,LastViewd:O,Login:E["default"]}},P=j,N=(r("8319"),Object(l["a"])(P,h,g,!1,null,"66bd4e96",null)),F=N.exports,T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",[e._v("Four Oh Four you didn't")]),r("router-link",{attrs:{to:"/",exact:""}},[e._v("ET Go Home")])],1)},U=[],A={},D=Object(l["a"])(A,T,U,!1,null,null,null),B=D.exports,V=[{path:"/",name:"main",component:F},{path:"/register",name:"register",component:function(){return r.e("chunk-b0ab992a").then(r.bind(null,"eaff"))}},{path:"/about",name:"about",component:function(){return r.e("chunk-205a73f2").then(r.bind(null,"478b"))}},{path:"/login",name:"login",component:function(){return Promise.resolve().then(r.bind(null,"62cc"))}},{path:"/search",name:"search",component:function(){return r.e("chunk-044a2479").then(r.bind(null,"37906"))}},{path:"/recipe/:recipeId",name:"recipe",component:function(){return r.e("chunk-65e0f6f0").then(r.bind(null,"6619"))}},{path:"/myrecipes",name:"myrecipes",component:function(){return r.e("chunk-1d6772ed").then(r.bind(null,"fda7"))}},{path:"/myfavoriterecipes",name:"myfavoriterecipes",component:function(){return r.e("chunk-344f869a").then(r.bind(null,"b145"))}},{path:"/MyFamily",name:"MyFamily",component:function(){return r.e("chunk-6b06d900").then(r.bind(null,"0bd5"))}},{path:"/createNewRecipeModal",name:"createNewRecipeModal",component:function(){return Promise.resolve().then(r.bind(null,"f29b"))}},{path:"*",name:"notFound",component:B}],H=V,J=r("8c4f"),z=r("2b27"),G=r.n(z),K=r("1dce"),Y=r.n(K),Q=(r("f9e3"),r("2dd8"),r("5f5b")),W=r("b1e0"),X=r("1073"),Z=r("cbd0"),ee=r("b1fc"),te=r("7049"),re=r("a7e2"),ne=r("f9bc"),ae=r("44d4"),ie=r("cca8"),oe=r("51c2"),se=r("498a");n["default"].use(J["a"]);var ce=new J["a"]({routes:H});b.a.defaults.withCredentials=!0,n["default"].use(Q["a"]),n["default"].use(W["a"]),[X["a"],Z["a"],ee["a"],te["a"],re["a"],ne["a"],ae["a"],ie["a"],oe["a"],se["a"]].forEach((function(e){return n["default"].use(e)})),n["default"].use(Y.a),n["default"].use(G.a),b.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),b.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),n["default"].use(m.a,b.a),n["default"].config.productionTip=!1;var ue={username:localStorage.username,server_domain:"https://liorkob.cs.bgu.ac.il:443",login:function(e){localStorage.setItem("username",e),this.username=e,console.log("login",this.username)},logout:function(){console.log("logout"),localStorage.removeItem("username"),this.username=void 0}};console.log(ue),new n["default"]({router:ce,data:function(){return{store:ue}},methods:{toast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.$bvToast.toast("".concat(t),{title:"".concat(e),toaster:"b-toaster-top-center",variant:r,solid:!0,appendToast:n,autoHideDelay:3e3})}},render:function(e){return e(p)}}).$mount("#app")},6247:function(e,t,r){e.exports=r.p+"img/gluten_free.a5199ead.png"},"62cc":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",{staticClass:"title"},[e._v("Login")]),r("b-form",{on:{submit:function(t){return t.preventDefault(),e.onLogin(t)}}},[r("b-form-group",{attrs:{id:"input-group-Username","label-cols-sm":"3",label:"Username:","label-for":"Username"}},[r("b-form-input",{attrs:{id:"Username",type:"text",state:e.validateState("username")},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}}),r("b-form-invalid-feedback",[e._v(" Username is required ")])],1),r("b-form-group",{attrs:{id:"input-group-Password","label-cols-sm":"3",label:"Password:","label-for":"Password"}},[r("b-form-input",{attrs:{id:"Password",type:"password",state:e.validateState("password")},model:{value:e.$v.form.password.$model,callback:function(t){e.$set(e.$v.form.password,"$model",t)},expression:"$v.form.password.$model"}}),r("b-form-invalid-feedback",[e._v(" Password is required ")])],1),r("b-button",{staticClass:"mx-auto w-100",staticStyle:{width:"100px",display:"block"},attrs:{type:"submit",variant:"primary"},on:{click:function(t){return e.onLogin()}}},[e._v("Login")]),r("div",{staticClass:"mt-2"},[e._v(" Do not have an account yet? "),r("router-link",{attrs:{to:"register"}},[e._v(" Register in here")])],1)],1),e.form.submitError?r("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Login failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)},a=[],i=(r("96cf"),r("1da1")),o=(r("bc3a"),r("b5ae")),s={name:"Login",data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:o["required"]},password:{required:o["required"]}}},methods:{validateState:function(e){var t=this.$v.form[e],r=t.$dirty,n=t.$error;return r?!n:null},Login:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.axios.defaults.withCredentials=!0,t.next=4,e.axios.post("https://liorkob.cs.bgu.ac.il/Login",{username:e.form.username,password:e.form.password});case 4:t.sent,e.axios.defaults.withCredentials=!1,console.log(e.$root.store.login),e.$root.store.login(e.form.username),e.$router.push("/")["catch"]((function(){})),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),t.t0.response&&t.t0.response.data&&t.t0.response.data.message?e.form.submitError=t.t0.response.data.message:(console.log(t.t0),e.form.submitError="An error occurred during login.");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},onLogin:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||this.Login()}}},c=s,u=(r("8b32"),r("2877")),l=Object(u["a"])(c,n,a,!1,null,"2ac2675a",null);t["default"]=l.exports},"65b7":function(e,t,r){},7037:function(e,t,r){"use strict";var n=r("37c5"),a=r.n(n);a.a},"7bea":function(e,t,r){e.exports=r.p+"img/vegan.b27f094a.png"},8319:function(e,t,r){"use strict";var n=r("8eba"),a=r.n(n);a.a},"832a":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"recipe-preview",attrs:{to:{name:"recipe",params:{recipeId:e.recipe.id,title:e.title}}}},[n("div",[n("b-card",{attrs:{"img-src":e.recipe.image,"img-alt":"Image","img-top":""}},[n("b-card-header",{attrs:{header:e.recipe.title,"border-variant":e.watchedColor,"header-border-variant":e.watchedColor,"header-bg-variant":e.watchedColor}}),n("b-card-body",{staticClass:"recipe-body"},[e.isMyFamilyRecipes?e._e():n("div",[n("b-avatar",{attrs:{variant:"transparent",icon:"clock",size:"2em"}}),e._v(" "+e._s(e.recipe.readyInMinutes)+" minutes "),n("br"),n("b-avatar",{attrs:{variant:"transparent",icon:"hand-thumbs-up",size:"2em"}}),e._v(" "+e._s(e.recipe.aggregateLikes)+" likes "),e.seen?n("b-avatar",{staticClass:"eye-icon",attrs:{icon:"eye",size:"2em"}}):e._e()],1)]),n("b-card-body",{staticClass:"recipe-body"},[e.recipe.vegan?n("b-avatar",{staticStyle:{width:"2.5em",height:"3.3em"},attrs:{variant:"tranparent",src:r("7bea")}}):e._e(),e.recipe.vegetarian?n("b-avatar",{staticStyle:{width:"4.5em",height:"3em"},attrs:{variant:"tranparent",src:r("183b")}}):e._e(),e.recipe.glutenFree?n("b-avatar",{staticStyle:{width:"3.8em",height:"3em"},attrs:{variant:"tranparent",src:r("6247")}}):e._e()],1),!e.$root.store.username||e.isMyRecipes||e.isMyFamilyRecipes?e._e():n("b-card-footer",{staticClass:"recipe-footer"},[n("div",{staticClass:"favorite-section"},[n("b-button",{attrs:{variant:"outline-dark",disabled:e.favorite},on:{click:e.addToFavorite}},[n("b-icon-star"),n("span",{staticClass:"feedback-text",class:{enabled:!e.favorite,disabled:e.favorite}})],1)],1)])],1)],1)])},a=[],i=(r("a9e3"),r("96cf"),r("1da1")),o={created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$root.store.username){t.next=11;break}return t.prev=1,t.next=4,e.checkIfFavorite();case 4:return t.next=6,e.checkIfSeen();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},data:function(){return{favorite:!1,seen:!1}},props:{isMyFamilyRecipes:{type:Boolean,default:!1},isMyRecipes:{type:Boolean,default:!1},recipe:{type:Object,required:!0},id:{type:Number},title:{type:String},readyInMinutes:{type:Number},image:{type:String},aggregateLikes:{type:Number,required:!1,default:function(){}}},methods:{addToFavorite:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.axios.defaults.withCredentials=!0,t.next=4,e.axios.post("https://liorkob.cs.bgu.ac.il/users/favorites",{recipeId:e.recipe.id});case 4:r=t.sent,e.axios.defaults.withCredentials=!1,console.log(r.data),e.favorite=!0,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0.response),e.form.submitError=t.t0.response.data.message;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},checkIfFavorite:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={recipeId:e.recipe.id},t.prev=1,t.next=4,e.axios.get("https://liorkob.cs.bgu.ac.il/users/favorites",{withCredentials:!0});case 4:if(n=t.sent,void 0==n){t.next=17;break}a=0;case 7:if(!(a<n.data.length)){t.next=17;break}if(n.data[a].id!==r.recipeId){t.next=13;break}return e.favorite=!0,t.abrupt("break",17);case 13:return t.abrupt("continue",14);case 14:a++,t.next=7;break;case 17:void 0==n&&(e.favorite=!1),console.log(n),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](1),console.log(t.t0.response);case 24:case"end":return t.stop()}}),t,null,[[1,21]])})))()},checkIfSeen:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={recipeId:e.recipe.id},t.prev=1,t.next=4,e.axios.get("https://liorkob.cs.bgu.ac.il/users/seen",{params:{recipeId:r.recipeId},withCredentials:!0});case 4:if(n=t.sent,void 0==n){t.next=14;break}a=0;case 7:if(!(a<n.data.length)){t.next=14;break}if(n.data[a].id!==r.recipeId){t.next=11;break}return e.seen=!0,t.abrupt("break",14);case 11:a++,t.next=7;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](1),console.log(t.t0.response);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})))()}}},s=o,c=(r("7037"),r("2877")),u=Object(c["a"])(s,n,a,!1,null,"5ebadddc",null);t["a"]=u.exports},"8b32":function(e,t,r){"use strict";var n=r("2026"),a=r.n(n);a.a},"8eba":function(e,t,r){},"99d8":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("h3",[e._v(" "+e._s(e.title)+": "),e._t("default")],2),r("b-row",e._l(e.recipes,(function(t){return r("b-col",{key:t.id},[r("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:t,title:e.title,isMyRecipes:e.isMyRecipes,isMyFamilyRecipes:e.isMyFamilyRecipes}}),e._v(" /> ")],1)})),1)],1)},a=[],i=(r("96cf"),r("1da1")),o=r("832a"),s={name:"RecipePreviewList",components:{RecipePreview:o["a"]},props:{title:{type:String,required:!0},isMyRecipes:{type:Boolean,default:!1},isMyFamilyRecipes:{type:Boolean,default:!1}},data:function(){return{recipes:[]}},methods:{update:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.recipes=e;case 1:case"end":return r.stop()}}),r)})))()}}},c=s,u=(r("08f6"),r("2877")),l=Object(u["a"])(c,n,a,!1,null,"6a085abe",null);t["a"]=l.exports},c0d6:function(e,t){},d092:function(e,t,r){e.exports=r.p+"img/logo3.b690d022.png"},de30:function(e,t,r){"use strict";var n=r("1ad0"),a=r.n(n);a.a},ed01:function(e,t,r){},f29b:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{ref:"modal",attrs:{id:"add-recipe-modal",title:"Add New Recipe"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[e._v("Ceate You're New Recipe: "),r("br"),r("br"),r("b-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)},reset:function(t){return t.preventDefault(),e.resetModal(t)}}},[r("b-form-group",{attrs:{label:"Recipe's Title: ","label-for":"title-input"}},[r("b-form-input",{attrs:{id:"title-input",type:"text",state:e.validateState("title")},model:{value:e.$v.form.title.$model,callback:function(t){e.$set(e.$v.form.title,"$model",t)},expression:"$v.form.title.$model"}}),e.$v.form.title.required?e._e():r("b-form-invalid-feedback",[e._v(" Recipes's title is required ")]),e.$v.form.title.alpha?e._e():r("b-form-invalid-feedback",[e._v(" Recipce's title can only contain letters ")])],1),r("b-form-group",{attrs:{label:"Recipe's image URL: ","label-for":"image-input"}},[r("b-form-input",{attrs:{id:"image-input",type:"url",state:e.validateState("image")},model:{value:e.$v.form.image.$model,callback:function(t){e.$set(e.$v.form.image,"$model",t)},expression:"$v.form.image.$model"}}),e.$v.form.title.required?e._e():r("b-form-invalid-feedback",[e._v(" Recipe's image URL is required ")]),e.$v.form.title.url?e._e():r("b-form-invalid-feedback",[e._v(" Recipe's image URL should be URL ")])],1),r("b-form-group",{attrs:{label:"Recipe's Servings: ","label-for":"servings-input"}},[r("b-form-input",{attrs:{id:"servings-input",type:"number",min:"1",state:e.validateState("servings")},model:{value:e.$v.form.servings.$model,callback:function(t){e.$set(e.$v.form.servings,"$model",t)},expression:"$v.form.servings.$model"}}),e.$v.form.servings.required?e._e():r("b-form-invalid-feedback",[e._v(" Recipe's servings is required ")]),e.$v.form.servings.numeric?e._e():r("b-form-invalid-feedback",[e._v(" Recipe's servings should be numeric ")])],1),r("b-form-group",{attrs:{label:"Recipe's Time: ","label-for":"readyInMinutes-input"}},[r("b-form-input",{attrs:{id:"readyInMinutes-input",type:"number",min:"1",state:e.validateState("readyInMinutes")},model:{value:e.$v.form.readyInMinutes.$model,callback:function(t){e.$set(e.$v.form.readyInMinutes,"$model",t)},expression:"$v.form.readyInMinutes.$model"}}),e.$v.form.readyInMinutes.required?e._e():r("b-form-invalid-feedback",[e._v(" Recipe's time is required ")]),e.$v.form.readyInMinutes.numeric?e._e():r("b-form-invalid-feedback",[e._v(" Recipe's time should be numeric ")])],1),r("b-form-group",{attrs:{label:"Vegan: ","label-for":"vegan-input"}},[r("b-form-checkbox",{staticClass:"mr-n2 mb-n1",attrs:{switch:"",id:"vegan-input"},model:{value:e.form.vegan,callback:function(t){e.$set(e.form,"vegan",t)},expression:"form.vegan"}},[r("span",{staticClass:"sr-only"})])],1),r("b-form-group",{attrs:{label:"Vegetarian: ","label-for":"vegetarian-input"}},[r("b-form-checkbox",{staticClass:"mr-n2 mb-n1",attrs:{switch:"",id:"vegetarian-input"},model:{value:e.form.vegetarian,callback:function(t){e.$set(e.form,"vegetarian",t)},expression:"form.vegetarian"}},[r("span",{staticClass:"sr-only"})])],1),r("b-form-group",{attrs:{label:"Gluten Free: ","label-for":"gluten_free-input"}},[r("b-form-checkbox",{staticClass:"mr-n2 mb-n1",attrs:{switch:"",id:"gluten-free-input"},model:{value:e.form.gluten_free,callback:function(t){e.$set(e.form,"gluten_free",t)},expression:"form.gluten_free"}},[r("span",{staticClass:"sr-only"})])],1)],1),r("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[r("label",[e._v("Ingredients:")]),e._l(e.$v.form.ingrediants.$each.$iter,(function(t){return r("b-form-group",{key:t.key},[r("b-form-input",{attrs:{state:e.validateState("ingrediants"),type:"text",required:"",placeholder:"Ingredient"},model:{value:t.value.$model,callback:function(r){e.$set(t.value,"$model","string"===typeof r?r.trim():r)},expression:"ing.value.$model"}}),t.value.required?e._e():r("b-form-invalid-feedback",[e._v(" Recipes's ingredient is required ")])],1)})),r("b-button-toolbar",[r("b-button-group",[r("b-button",{attrs:{title:"Add Ingrediant",variant:"outline-primary"},on:{click:e.addIngredient}},[r("b-icon",{attrs:{icon:"plus","aria-hidden":"true"}})],1),r("b-button",{attrs:{title:"Remove Ingrediant",variant:"outline-primary"},on:{click:e.removeIngredient}},[r("b-icon",{attrs:{icon:"dash","aria-hidden":"true"}})],1)],1)],1)],2),r("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[r("label",[e._v("Instructions:")]),e._l(e.$v.form.instractions.$each.$iter,(function(t){return r("b-form-group",{key:t.key},[r("b-form-input",{attrs:{state:e.validateState("instractions"),type:"text",required:"",placeholder:"Instruction"},model:{value:t.value.$model,callback:function(r){e.$set(t.value,"$model","string"===typeof r?r.trim():r)},expression:"ins.value.$model"}}),t.value.required?e._e():r("b-form-invalid-feedback",[e._v(" Recipes's instruction is required ")])],1)})),r("b-button-toolbar",[r("b-button-group",[r("b-button",{attrs:{title:"Add Instruction",variant:"outline-primary"},on:{click:e.addInstruction}},[r("b-icon",{attrs:{icon:"plus","aria-hidden":"true"}})],1),r("b-button",{attrs:{title:"Remove Instruction",variant:"outline-primary"},on:{click:e.removeInstruction}},[r("b-icon",{attrs:{icon:"dash","aria-hidden":"true"}})],1)],1)],1)],2)],1)},a=[],i=(r("0d03"),r("b0c0"),r("d3b7"),r("25f0"),r("96cf"),r("1da1")),o=r("6aac"),s=r("b5ae"),c={name:"NewRecipe",beforeRouteEnter:function(e,t,r){"myrecipes"===e.name&&window.location.reload(),r()},data:function(){return{form:{title:void 0,image:void 0,servings:void 0,readyInMinutes:void 0,vegan:!1,vegetarian:!1,gluten_free:!1,ingrediants:[{key:1,value:void 0}],instractions:[{key:1,value:void 0}],popularity:0,submitError:void 0},ingrediantsCounter:1,instructionsCounter:1}},comments:{BModal:o["a"]},validations:{form:{title:{required:s["required"],alpha:s["alpha"]},image:{required:s["required"],url:s["url"]},servings:{required:s["required"],numeric:s["numeric"]},readyInMinutes:{required:s["required"],numeric:s["numeric"]},ingrediants:{$each:{value:{required:s["required"]}}},instractions:{$each:{value:{required:s["required"]}}}}},methods:{validateState:function(e){var t=this.$v.form[e],r=t.$dirty,n=t.$error;return r?!n:null},resetModal:function(){var e=this;this.form={title:void 0,image:void 0,servings:void 0,readyInMinutes:void 0,vegan:!1,vegetarian:!1,gluten_free:!1,ingrediants:[{key:1,value:void 0}],instractions:[{key:1,value:void 0}],popularity:0,submitError:void 0},this.$nextTick((function(){e.$v.$reset()}))},handleOk:function(e){e.preventDefault(),this.$v.form.$touch(),this.$v.form.$anyError||this.handleSubmit()},createNewRecipe:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,o,s,c,u,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(t.prev=0,r=[],n=0;n<e.ingrediantsCounter;n++)r.push({ingredients_id:(n+1).toString(),ingredients_name:e.form.ingrediants[n].value});for(a=JSON.stringify(r),i=[],o=0;o<e.instructionsCounter;o++)i.push({instruction_id:(o+1).toString(),instruction_data:e.form.instractions[o].value});return s=JSON.stringify(i),c=0,1==e.form.vegan&&(c=1),u=0,1==e.form.vegetarian&&(u=1),l=0,1==e.form.gluten_free&&(l=1),e.axios.defaults.withCredentials=!0,t.next=16,e.axios.post("https://liorkob.cs.bgu.ac.il/recipes/new",{title:e.form.title,image:e.form.image,readyInMinutes:e.form.readyInMinutes,aggregateLikes:e.form.popularity,vagan:c,vegetarian:u,glutenFree:l,extendedIngredients:a,instructions:s,servings:e.form.servings});case 16:d=t.sent,e.axios.defaults.withCredentials=!1,200==d.status&&(e.$root.toast("Created New Recipe","New recipe added successfully","success"),e.$router.push({name:"myrecipes"})),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](0),console.log(t.t0.response);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})))()},handleSubmit:function(){var e=this;this.createNewRecipe(),this.$nextTick((function(){e.$bvModal.hide("add-recipe-modal")}))},addIngredient:function(){this.ingrediantsCounter+=1,this.form.ingrediants.push({key:this.ingrediantsCounter,value:void 0})},addInstruction:function(){this.instructionsCounter+=1,this.form.instractions.push({key:this.instructionsCounter,value:void 0})},removeIngredient:function(){this.ingrediantsCounter>1&&(this.ingrediantsCounter-=1,this.form.ingrediants.pop())},removeInstruction:function(){this.instructionsCounter>1&&(this.instructionsCounter-=1,this.form.instractions.pop())}}},u=c,l=r("2877"),d=Object(l["a"])(u,n,a,!1,null,"efecf066",null);t["default"]=d.exports},f697:function(e,t,r){"use strict";var n=r("ed01"),a=r.n(n);a.a}});
//# sourceMappingURL=app.5a8b7e44.js.map