{"version":3,"sources":["webpack:///./src/pages/SearchPage.vue?a19f","webpack:///./src/assets/diet.js","webpack:///./src/assets/numbers.js","webpack:///./src/assets/cuisine.js","webpack:///./src/assets/intolerance.js","webpack:///src/pages/SearchPage.vue","webpack:///./src/pages/SearchPage.vue?c6a9","webpack:///./src/pages/SearchPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","$event","preventDefault","onSearch","onReset","onChangeQuery","model","value","callback","$$v","query","expression","_l","num","key","number","_s","cus","form","cuisine","d","diet","into","intolerances","sort_time","sortBy","sort_popularity","searched","Boolean","$root","store","username","sortby","_e","staticRenderFns","name","components","RecipePreviewList","data","submitError","numbers","cuisines","diets","intoleranceses","lastsearch","mounted","shift","methods","console","log","$emit","sort_type","component"],"mappings":"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","file":"js/chunk-746908e5.675727d6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"Search Page\")]),_c('b-navbar',{attrs:{\"toggleable\":\"lg\",\"type\":\"light\",\"variant\":\"light\"}},[_c('b-navbar-nav',[_c('b-nav-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSearch($event)},\"reset\":function($event){$event.preventDefault();return _vm.onReset($event)}}},[_c('b-form-input',{staticClass:\"mr-sm-2\",attrs:{\"variant\":\"outline-secondary\",\"placeholder\":\"Search\",\"type\":\"text\"},on:{\"change\":_vm.onChangeQuery},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}})],1),_c('b-nav-item-dropdown',{attrs:{\"text\":\"Number of search results\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSearch($event)},\"reset\":function($event){$event.preventDefault();return _vm.onReset($event)}}},_vm._l((_vm.numbers),function(num,key){return _c('b-dropdown-item',{key:key,on:{\"click\":function($event){_vm.number = num}}},[_vm._v(\" \"+_vm._s(num)+\" \")])}),1),_c('b-nav-item-dropdown',{attrs:{\"text\":\"Cuisine\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSearch($event)},\"reset\":function($event){$event.preventDefault();return _vm.onReset($event)}}},_vm._l((_vm.cuisines),function(cus,key){return _c('b-dropdown-item',{key:key,on:{\"click\":function($event){_vm.form.cuisine = cus}}},[_vm._v(\" \"+_vm._s(cus)+\" \")])}),1),_c('b-nav-item-dropdown',{attrs:{\"text\":\"Diet\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSearch($event)},\"reset\":function($event){$event.preventDefault();return _vm.onReset($event)}}},_vm._l((_vm.diets),function(d,key){return _c('b-dropdown-item',{key:key,on:{\"click\":function($event){_vm.form.diet = d}}},[_vm._v(\" \"+_vm._s(d)+\" \")])}),1),_c('b-nav-item-dropdown',{attrs:{\"text\":\"Intolerances\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSearch($event)},\"reset\":function($event){$event.preventDefault();return _vm.onReset($event)}}},_vm._l((_vm.intoleranceses),function(into,key){return _c('b-dropdown-item',{key:key,on:{\"click\":function($event){_vm.form.intolerances = into}}},[_vm._v(\" \"+_vm._s(into)+\" \")])}),1),_c('b-nav-item-dropdown',{attrs:{\"text\":\"Sort by\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSearch($event)},\"reset\":function($event){$event.preventDefault();return _vm.onReset($event)}}},[_c('b-dropdown-item',{attrs:{\"href\":\"#\",\"variant\":this.sort_time},on:{\"click\":function($event){return _vm.sortBy('time')}}},[_vm._v(\"Recipe's preparation time\")]),_c('b-dropdown-item',{attrs:{\"href\":\"#\",\"variant\":this.sort_popularity},on:{\"click\":function($event){return _vm.sortBy('popularity')}}},[_vm._v(\"Recipe's popularity\")])],1),_c('b-nav-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSearch($event)},\"reset\":function($event){$event.preventDefault();return _vm.onReset($event)}}},[_c('b-button',{staticClass:\"my-2 my-sm-0\",attrs:{\"variant\":\"outline-secondary\",\"type\":\"submit\"},on:{\"click\":_vm.onSearch}},[_c('b-icon',{attrs:{\"icon\":\"search\",\"aria-hidden\":\"true\"}})],1),_c('b-button',{staticClass:\"my-2 my-sm-0\",attrs:{\"variant\":\"outline-secondary\",\"type\":\"reset\"},on:{\"click\":_vm.onReset}},[_vm._v(\"Reset \")])],1)],1)],1),(_vm.searched > 0)?_c('div',[_c('RecipePreviewList',{attrs:{\"title\":\"Search Results\",\"log_in\":Boolean(_vm.$root.store.username),\"searched\":_vm.searched,\"query\":_vm.query,\"number\":_vm.number,\"cuisine\":_vm.form.cuisine,\"diet\":_vm.form.diet,\"intolerance\":_vm.form.intolerances,\"sort\":_vm.sortby}})],1):(_vm.$root.store.lastSearch)?_c('div',[_c('RecipePreviewList',{attrs:{\"title\":\"Last Search\",\"log_in\":Boolean(_vm.$root.store.username)}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default [\r\n\"\",\r\n\"Gluten Free\",  \r\n\"Ketogenic\",  \r\n\"Vegetarian\",  \r\n\"Lacto-Vegetarian\",  \r\n\"Ovo-Vegetarian\",  \r\n\"Vegan\",  \r\n\"Pescetarian\",  \r\n\"Paleo\",  \r\n\"Primal\",  \r\n\"Low FODMAP\",  \r\n\"Whole30\"\r\n];","export default [\r\n    \"5\",\r\n    \"10\",\r\n    \"15\"\r\n];","export default [\r\n\"\",\r\n\"African\", \r\n\"American\", \r\n\"British\", \r\n\"Cajun\", \r\n\"Caribbean\", \r\n\"Chinese\", \r\n\"Eastern European\", \r\n\"European\", \r\n\"French\", \r\n\"German\", \r\n\"Greek\", \r\n\"Indian\", \r\n\"Irish\", \r\n\"Italian\", \r\n\"Japanese\", \r\n\"Jewish\", \r\n\"Korean\", \r\n\"Latin American\", \r\n\"Mediterranean\", \r\n\"Mexican\", \r\n\"Middle Eastern\", \r\n\"Nordic\", \r\n\"Southern\", \r\n\"Spanish\", \r\n\"Thai\", \r\n\"Vietnamese\"\r\n];","export default [\r\n    \"\",\r\n    \"Dairy\", \r\n    \"Egg\", \r\n    \"Gluten\", \r\n    \"Grain\", \r\n    \"Peanut\", \r\n    \"Seafood\", \r\n    \"Sesame\", \r\n    \"Shellfish\", \r\n    \"Soy\", \r\n    \"Sulfite\", \r\n    \"Tree Nut\", \r\n    \"Wheat\"\r\n];","<template>\r\n  <div class=\"container\">\r\n    <h1 class=\"title\">Search Page</h1>\r\n    <b-navbar toggleable=\"lg\" type=\"light\" variant=\"light\">\r\n      <b-navbar-nav>\r\n        <b-nav-form @submit.prevent=\"onSearch\" @reset.prevent=\"onReset\">\r\n          <b-form-input\r\n            variant=\"outline-secondary\"\r\n            class=\"mr-sm-2\"\r\n            placeholder=\"Search\"\r\n            type=\"text\"\r\n            v-model=\"query\"\r\n            @change=\"onChangeQuery\"\r\n          ></b-form-input>\r\n        </b-nav-form>\r\n        <!--  @keyup.enter=\"onChangeQuery\" -->\r\n        <b-nav-item-dropdown\r\n          text=\"Number of search results\"\r\n          @submit.prevent=\"onSearch\"\r\n          @reset.prevent=\"onReset\"\r\n        >\r\n          <b-dropdown-item\r\n            v-for=\"(num, key) in numbers\"\r\n            :key=\"key\"\r\n            @click=\"number = num\"\r\n          >\r\n            {{ num }}\r\n          </b-dropdown-item>\r\n        </b-nav-item-dropdown>\r\n\r\n        <b-nav-item-dropdown\r\n          text=\"Cuisine\"\r\n          @submit.prevent=\"onSearch\"\r\n          @reset.prevent=\"onReset\"\r\n        >\r\n          <b-dropdown-item\r\n            v-for=\"(cus, key) in cuisines\"\r\n            :key=\"key\"\r\n            @click=\"form.cuisine = cus\"\r\n          >\r\n            {{ cus }}\r\n          </b-dropdown-item>\r\n        </b-nav-item-dropdown>\r\n\r\n        <b-nav-item-dropdown\r\n          text=\"Diet\"\r\n          @submit.prevent=\"onSearch\"\r\n          @reset.prevent=\"onReset\"\r\n        >\r\n          <b-dropdown-item\r\n            v-for=\"(d, key) in diets\"\r\n            :key=\"key\"\r\n            @click=\"form.diet = d\"\r\n          >\r\n            {{ d }}\r\n          </b-dropdown-item>\r\n        </b-nav-item-dropdown>\r\n\r\n        <b-nav-item-dropdown\r\n          text=\"Intolerances\"\r\n          @submit.prevent=\"onSearch\"\r\n          @reset.prevent=\"onReset\"\r\n        >\r\n          <b-dropdown-item\r\n            v-for=\"(into, key) in intoleranceses\"\r\n            :key=\"key\"\r\n            @click=\"form.intolerances = into\"\r\n          >\r\n            {{ into }}\r\n          </b-dropdown-item>\r\n        </b-nav-item-dropdown>\r\n\r\n        <b-nav-item-dropdown\r\n          text=\"Sort by\"\r\n          @submit.prevent=\"onSearch\"\r\n          @reset.prevent=\"onReset\"\r\n        >\r\n          <b-dropdown-item\r\n            href=\"#\"\r\n            :variant=\"this.sort_time\"\r\n            @click=\"sortBy('time')\"\r\n            >Recipe's preparation time</b-dropdown-item\r\n          >\r\n          <b-dropdown-item\r\n            href=\"#\"\r\n            :variant=\"this.sort_popularity\"\r\n            @click=\"sortBy('popularity')\"\r\n            >Recipe's popularity</b-dropdown-item\r\n          >\r\n        </b-nav-item-dropdown>\r\n        <b-nav-form @submit.prevent=\"onSearch\" @reset.prevent=\"onReset\">\r\n          <b-button\r\n            variant=\"outline-secondary\"\r\n            class=\"my-2 my-sm-0\"\r\n            type=\"submit\"\r\n            @click=\"onSearch\"\r\n          >\r\n            <b-icon icon=\"search\" aria-hidden=\"true\"></b-icon>\r\n          </b-button>\r\n          <b-button\r\n            variant=\"outline-secondary\"\r\n            class=\"my-2 my-sm-0\"\r\n            type=\"reset\"\r\n            @click=\"onReset\"\r\n            >Reset\r\n          </b-button>\r\n        </b-nav-form>\r\n      </b-navbar-nav>\r\n    </b-navbar>\r\n    <div v-if=\"searched > 0\">\r\n      <RecipePreviewList\r\n        title=\"Search Results\"\r\n        :log_in=\"Boolean($root.store.username)\"\r\n        :searched=\"searched\"\r\n        :query=\"query\"\r\n        :number=\"number\"\r\n        :cuisine=\"form.cuisine\"\r\n        :diet=\"form.diet\"\r\n        :intolerance=\"form.intolerances\"\r\n        :sort=\"sortby\"\r\n      />\r\n    </div>\r\n    <div v-else-if=\"$root.store.lastSearch\">\r\n      <RecipePreviewList\r\n        title=\"Last Search\"\r\n        :log_in=\"Boolean($root.store.username)\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RecipePreviewList from \"../components/RecipePreviewList\";\r\nimport diets from \"../assets/diet\";\r\nimport numbers from \"../assets/numbers\";\r\nimport cuisines from \"../assets/cuisine\";\r\nimport intoleranceses from \"../assets/intolerance\";\r\n\r\nexport default {\r\n  name: \"Search\",\r\n  components: {\r\n    RecipePreviewList,\r\n\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      searched: 0,\r\n      query: \"\",\r\n      number: \"\",\r\n      form: {\r\n        cuisine: \"\",\r\n        diet: \"\",\r\n        intolerances: \"\",\r\n      },\r\n      submitError: [],\r\n      // results: [] || this.$root.store.lastSearch,\r\n      numbers: [{ value: null, text: \"\", disabled: true }],\r\n      cuisines: [{ value: null, text: \"\", disabled: true }],\r\n      diets: [{ value: null, text: \"\", disabled: true }],\r\n      intoleranceses: [{ value: null, text: \"\", disabled: true }],\r\n      sortby: \"\",\r\n      lastsearch: \"\",\r\n      sort_time: \"s\",\r\n      sort_popularity: \"s\",\r\n    };\r\n  },\r\n\r\n  async created() {\r\n    console.log(\"in Search Page\");\r\n    this.getLastSearch();\r\n    // if (sessionStorage.getItem(\"lastRes\") != undefined) {\r\n    //   this.results = sessionStorage.getItem(\"lastRes\");\r\n    // }\r\n  },\r\n\r\n  mounted() {\r\n    this.numbers.push(...numbers);\r\n    this.numbers.shift();\r\n    this.number = this.numbers[0];\r\n\r\n    this.cuisines.push(...cuisines);\r\n    this.cuisines.shift();\r\n\r\n    this.diets.push(...diets);\r\n    this.diets.shift();\r\n\r\n    this.intoleranceses.push(...intoleranceses);\r\n    this.intoleranceses.shift();\r\n\r\n    // if (sessionStorage.getItem(\"lastRes\") != undefined) {\r\n    //   this.results = sessionStorage.getItem(\"lastRes\");\r\n    // }\r\n  },\r\n\r\n  methods: {\r\n    onChangeQuery() {\r\n      console.log(\"in onChangeQuery\");\r\n      this.$emit(\"query\", this.query);\r\n      // this.$emit(\"searched\", this.searched);\r\n    },\r\n\r\n    onSearch() {\r\n      console.log(\"in OnSearch\");\r\n      this.searched += 1;\r\n      // this.$emit(\"searched\", this.searched);\r\n      this.lastsearch = this.query;\r\n    },\r\n\r\n    onReset() {\r\n      this.query = \"\";\r\n      this.number = this.numbers[0];\r\n      this.form.diet = \"\";\r\n      this.form.cuisine = \"\";\r\n      this.form.intolerances = \"\";\r\n      this.sortby = \"\";\r\n      this.sort_time = \"s\";\r\n      this.sort_popularity = \"s\";\r\n      this.searched = 0;\r\n      // this.$nextTick(() => {\r\n      //   this.$v.$reset();\r\n      // });\r\n    },\r\n\r\n    sortBy(sort_type) {\r\n      if (sort_type == \"time\") {\r\n        if (this.sortby == \"readyInMinutes\") {\r\n          this.sortby = \"\";\r\n          this.sort_time = \"s\";\r\n        } else {\r\n          this.sortby = \"readyInMinutes\";\r\n          this.sort_time = \"p\";\r\n          this.sort_popularity = \"s\";\r\n        }\r\n      } else if (sort_type == \"popularity\") {\r\n        if (this.sortby == \"aggregateLikes\") {\r\n          this.sortby = \"\";\r\n          this.sort_popularity = \"s\";\r\n        } else {\r\n          this.sortby = \"aggregateLikes\";\r\n          this.sort_popularity = \"p\";\r\n          this.sort_time = \"s\";\r\n        }\r\n      }\r\n\r\n      if (searched > 0) {\r\n        this.searched += 1;\r\n      }\r\n    },\r\n\r\n    async getLastSearch() {\r\n    //   let response;\r\n    //   try {\r\n    //     console.log( this.$root.store.server_domain + \"/user/lastSearch\");\r\n    //     response = await this.axios.get(\r\n    //       this.$root.store.server_domain + \"/user/lastSearch\",\r\n    //       { withCredentials: true }\r\n    //     );\r\n    //     console.log(response);\r\n    //     this.lastsearch = response.data;\r\n    //   } catch (error) {\r\n    //     console.log(error);\r\n    //   }\r\n    },\r\n\r\n    async Search() {\r\n      try {\r\n        const response = await this.axios.get(\r\n          \"https://localhost:3000/recipes/search\",\r\n          // this.$root.store.server_domain +\r\n            // \"/recipes3000/search?searchQuery=\" +\r\n            this.query +\r\n            \"&number=\" +\r\n            this.number +\r\n            \"&cuisine=\" +\r\n            this.form.cuisine == undefined ? \"\" : this.form.cuisine +\r\n            \"&diet=\" +\r\n            this.form.diet == undefined ? \"\" : this.form.diet +\r\n            \"&intolerances=\" +\r\n            this.form.intolerances == undefined ? \"\" : this.form.intolerances\r\n        );\r\n        console.log(response.data)\r\n\r\n        if (response.data === \"There is no results!\") {\r\n          this.$root.toast(\r\n            \"Search a Recipe\",\r\n            \"There is no results for this search\",\r\n            \"failure\"\r\n          );\r\n        } else {\r\n          const recipes_id = response.data;\r\n          const recipes = [];\r\n\r\n          for (let i = 0; i < recipes_id.length; i++) {\r\n            recipes[i] = await this.axios.get(\r\n              // \"https://test-for-3-2.herokuapp.com/user/Register\",\r\n              this.$root.store.server_domain +\r\n                \"/recipes/:recipeId?id=\" +\r\n                recipes_id[i]\r\n            );\r\n          }\r\n\r\n          for (let i = 0; i < recipes.length; i++) {\r\n            this.results[i] = recipes[i].data;\r\n          }\r\n          console.log(this.results);\r\n\r\n          console.log(this.searched);\r\n\r\n          this.$root.store.lastSearch = this.results;\r\n          // sessionStorage.setItem(\r\n          //     \"lastRes\",\r\n          //     JSON.stringify(this.results)\r\n\r\n          // );\r\n          \r\n        }\r\n      } catch (err) {\r\n        console.log(err.response);\r\n        this.submitError = err.response.data.message;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchPage.vue?vue&type=template&id=080975dc&\"\nimport script from \"./SearchPage.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}